# RSS Reader Service

## Run locally:

```bash
JWT_SECRET_KEY=test RSS_READER_SVC_LOG_LEVEL=DEBUG RSS_READER_SVC_PORT=8080 go run cmd/rss-reader-svc/main.go 
```

## Run tests:

```bash
go test -race ./...
```

Example parse request:

```bash
curl --location 'http://localhost:8080/api/v1/parse' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <JWT_TOKEN>' \
--data '{
    "urls": [
        "https://cprss.s3.amazonaws.com/golangweekly.com.xml",
        "https://feeds.twit.tv/twit.xml"
    ]
}'
```

Example parse response:

```json
{
  "data": {
    "items": [
      {
        "title": "Go 1.23 gets another step closer",
        "source": "https://golangweekly.com/issues/512",
        "source_url": "https://golangweekly.com/issues/512",
        "link": "https://golangweekly.com/issues/512",
        "publish_date": "2024-06-25T00:00:00Z",
        "description": "<table border=0 cellpadding=0 cellspacing=0 align=\"center\" border=\"0\">\n  <tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \">\n  <div>    \n    <table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr>\n<td align=\"left\" style=\"padding-left: 4px; font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \"><p>#​512 — June 25, 2024</p></td>\n<td align=\"right\" style=\"padding-right: 4px; font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \"><p><a href=\"https://golangweekly.com/link/156748/rss\" style=\" color: #0099b4;\">Unsub</a>  |  <a href=\"https://golangweekly.com/link/156749/rss\" style=\" color: #0099b4;\">Web Version</a></p></td>\n</tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\"><p>✈️ I've produced this issue a day early due to being en-route to the <a href=\"https://golangweekly.com/link/156750/rss\" style=\" color: #0099b4; font-weight: 600;\">AI Engineer World's Fair</a>, so any last minute news may be missed. If you're there, come and say hi, but you can also watch from afar through <a href=\"https://golangweekly.com/link/156751/rss\" style=\" color: #0099b4; font-weight: 600;\">the livestreams</a> that will be on YouTube this Wednesday and Thursday. See you again next week!<br>__<br><em>Peter Cooper, your editor</em></p></td></tr></table>\n    \n    <table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0; padding-right: 12px;  padding-left: 12px;\"><p>Go Weekly</p></td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \">\n  <a href=\"https://golangweekly.com/link/156753/rss\" style=\" color: #0099b4;\"><img src=\"https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,q_auto/jpt68a2qzktkiccx59rq.jpg\" width=\"640\" style=\"    line-height: 100%;       \"></a>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156753/rss\" title=\"www.dolthub.com\" style=\" color: #0099b4;    font-size: 1.1em; line-height: 1.4em;\">Three Ways to Think About Channels</a></span> — Channels seem trivial on the surface, but actually using them requires an understanding of Go's entire concurrency ecosystem. With such an understanding, you can pick the right primitives for your use case and not end up trapped in a world of deadlocks.</p>\n  <p>Max Hoffman (DoltHub) </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156754/rss\" title=\"groups.google.com\" style=\" color: #0099b4;    font-size: 1.05em;\">Go 1.23 Release Candidate 1 Released</a></span> — A simple announcement for the first release candidate of the upcoming, and rather exciting, 1.23 release. Perhaps more usefully, <a href=\"https://golangweekly.com/link/156755/rss\" style=\" color: #0099b4;   \">the draft Go 1.23 release notes</a> have been fleshed out a bit more.</p>\n  <p>The Go Team </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  <a href=\"https://golangweekly.com/link/156782/rss\" style=\" color: #0099b4;   \"><img src=\"https://copm.s3.amazonaws.com/960b6d83.png\" width=\"110\" height=\"110\" style=\"padding-top: 12px; padding-left: 12px;     line-height: 100%;    \"></a>\n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156782/rss\" title=\"frontendmasters.com\" style=\" color: #0099b4;    font-size: 1.05em;\">Master the Basics of Go</a></span> — Join Maximiliano Firtman for this detailed video course covering the fundamentals of all things Go. You'll gain a thorough understanding of structures, goroutines, channels, async API calls, and much much more.</p>\n  <p>Frontend Masters <span style=\"text-transform: uppercase; margin-left: 4px; font-size: 0.9em;   color: #885 !important; padding-top: 1px; padding-right: 4px;  padding-left: 4px;            \">sponsor</span></p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156756/rss\" title=\"lewismetcalf.com\" style=\" color: #0099b4;    font-size: 1.05em;\">Making a Regex Engine from Scratch in Go</a></span> — Over eleven posts, Lewis walks through the fundamentals of working with regular expressions <em>without</em> leaning on any existing regex engines, complete with helpful visualizations and examples.</p>\n  <p>Lewis Metcalf </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\">▶  <a href=\"https://golangweekly.com/link/156757/rss\" title=\"changelog.com\" style=\" color: #0099b4;    font-size: 1.05em;\">How Things Get Done on the Go Team</a></span> — Go Time’s host Angelica was joined by Cameron Balahan, Sameer Ajmani and Russ Cox from the Go team to discuss how things get done on the Go team and how they decide <em>what</em> to improve. <em>(63 minutes.)</em></p>\n  <p>Go Time Podcast <span style=\"text-transform: uppercase; margin-left: 4px; padding-top: 1px; padding-right: 4px;  padding-left: 4px; font-size: 0.9em;             \">podcast</span></p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156758/rss\" title=\"lokal.so\" style=\" color: #0099b4;    font-size: 1.05em;\">How to Sign, Notarize and Staple a Go App for Outside Mac <em>App Store</em> Distribution</a></span> — A quick guide to the hoops you need to jump through to signing and notarizing a Go app in such a way that it can run on other people’s Macs without lots of scary messages.</p>\n  <p>Rubi Jihantoro </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156759/rss\" title=\"carlosbecker.com\" style=\" color: #0099b4;    font-size: 1.05em;\">A Pragmatic Guide to Go Module Updates</a></span> — <em>“I thought I would share some quick bits about how to do <code>go.mod</code> version bumps.”</em></p>\n  <p>Carlos Becker </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156762/rss\" title=\"bitfieldconsulting.com\" style=\" color: #0099b4;    font-size: 1.05em;\">Shameless Green: TDD in Go</a></span> — The latest in a series of posts on <a href=\"https://golangweekly.com/link/156763/rss\" style=\" color: #0099b4;   \">test-driven development in Go</a>.</p>\n  <p>John Arundel </p>\n</td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 0px;  padding-left: 0px;\">\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\" font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \"></td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n\t<p>📰 Classifieds</p>\n  </td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n<p><a href=\"https://golangweekly.com/link/156760/rss\" style=\" color: #0099b4; font-weight: 500 !important;\">Hookdeck</a>: A serverless queue to reliably send, receive, transform, filter, and route events across your event-driven apps.</p>\n \n<p>Your fastest path to production. <a href=\"https://golangweekly.com/link/156784/rss\" style=\" color: #0099b4; font-weight: 500 !important;\">With Render, you can build, deploy, and scale your apps with unparalleled ease</a> – from your first user to your billionth.</p>\n</td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\" font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \"></td></tr></table>\n</td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\" font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \"></td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n<p>📄 <a href=\"https://golangweekly.com/link/156778/rss\" style=\" color: #0099b4; font-weight: 500 !important;\">Rust's Concurrency Model vs Go's: Stackless vs Stackful Coroutines</a>  <cite>Sylvain Kerkour</cite></p>\n<p>📄 <a href=\"https://golangweekly.com/link/156779/rss\" style=\" color: #0099b4; font-weight: 500 !important;\">On Testing Go Code using the Standard Library</a>  <cite>Henrique Vicente</cite></p>\n<p>📄 <a href=\"https://golangweekly.com/link/156764/rss\" style=\" color: #0099b4; font-weight: 500 !important;\">Seven Common Interface Mistakes in Go</a>  <cite>Andrei Boar</cite></p>\n</td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0; padding-right: 0;  padding-left: 0;\"><p>🛠 Code &amp; Tools</p></td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \">\n  <a href=\"https://golangweekly.com/link/156765/rss\" style=\" color: #0099b4;\"><img src=\"https://res.cloudinary.com/cpress/image/upload/w_1280,e_sharpen:60,q_auto/lsrpvowivv5czfhkkw5a.jpg\" width=\"640\" style=\"        line-height: 100%;     \"></a>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156765/rss\" title=\"github.com\" style=\" color: #0099b4;    font-size: 1.05em;\">Walk: A Terminal-Based File Manager</a></span> — <em>“Why another terminal navigator? I wanted something simple and minimalistic. Something to help me with faster navigation in the filesystem; a <code>cd</code> and <code>ls</code> replacement.”</em> With fuzzy searching, too.</p>\n  <p>Anton Medvedev </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156766/rss\" title=\"github.com\" style=\" color: #0099b4;    font-size: 1.05em;\">Bleve: A Modern Text Indexing Library</a></span> — Bleve has been around for many years and is a well used, mature library, but it now has <a href=\"https://golangweekly.com/link/156767/rss\" style=\" color: #0099b4;   \">support for vectors too</a> (as are increasingly becoming important, nowadays).</p>\n  <p>bleve </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156768/rss\" title=\"fusionauth.io\" style=\" color: #0099b4;    font-size: 1.05em;\">Stop Worrying About Your Auth. Let FusionAuth Handle It</a></span> — Flexible deployment. Advanced features like MFA, SSO, and more. Check out the Go SDK.</p>\n  <p>FusionAuth <span style=\"text-transform: uppercase; margin-left: 4px; font-size: 0.9em;   color: #885 !important; padding-top: 1px; padding-right: 4px;  padding-left: 4px;            \">sponsor</span></p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156780/rss\" title=\"www.caesar.rocks\" style=\" color: #0099b4;    font-size: 1.05em;\">Caesar: A New Go Web Framework Inspired by Traditional Frameworks</a></span> — Where ‘traditional’ means things like Rails, Laravel or Django. Caesar takes their focus on solid tooling and conventions and brings it into the Go realm.</p>\n  <p>Valyent et al. </p>\n</td></tr></table>\n\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n  \n  <p><span style=\"font-weight: 600; font-size: 1.2em !important; color: #000;\"><a href=\"https://golangweekly.com/link/156769/rss\" title=\"github.com\" style=\" color: #0099b4;    font-size: 1.05em;\">gomplate 4.0: A Flexible CLI Tool for Template Rendering</a></span> — A template renderer that supports a wide array of sources, such as JSON, YAML, AWS EC2 metadata, Hashicorp Consul and Hashicorp Vault secrets. Worth looking at the examples <a href=\"https://golangweekly.com/link/156770/rss\" style=\" color: #0099b4;   \">in the README</a>.</p>\n  <p>Dave Henderson </p>\n</td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\"font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em;  padding-top: 0px; padding-right: 15px;  padding-left: 15px;\">\n<ul>\n<li>\n<p>⏰ <a href=\"https://golangweekly.com/link/156771/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">gocron 2.7</a> – Run Go functions at pre-determined intervals.</p>\n</li>\n<li>\n<p><a href=\"https://golangweekly.com/link/156772/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">Buf 1.34</a> – CLI tool for working with Protocol Buffers.</p>\n</li>\n<li>\n<p><a href=\"https://golangweekly.com/link/156773/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">Go OpenAI 1.26</a> – An OpenAI API wrapper library.</p>\n</li>\n<li>\n<p><a href=\"https://golangweekly.com/link/156774/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">env 11.1</a> – Zero dependency way to parse env variables into structs.</p>\n</li>\n<li>\n<p><a href=\"https://golangweekly.com/link/156775/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">SFTPGo 2.6.2</a> – Full featured SFTP server. (<a href=\"https://golangweekly.com/link/156776/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">Docs.</a>)</p>\n</li>\n<li>\n<p><a href=\"https://golangweekly.com/link/156781/rss\" style=\" color: #0099b4; font-weight: 500 !important;   \">Scripts to Deploy Go Apps to Google Cloud Run</a></p>\n</li>\n</ul>\n</td></tr></table>\n<table border=0 cellpadding=0 cellspacing=0 border=0 cellpadding=0 cellspacing=0><tr><td style=\" font-family: -apple-system,BlinkMacSystemFont,Helvetica,sans-serif; font-size: 15px; line-height: 1.48em; \"></td></tr></table>\n</div>\n  </td></tr>\n</table>\n\n\n\n\n<img src=\"https://golangweekly.com/open/512/rss\" width=\"1\" height=\"1\" />"
      },
      ...
    ]
  }
}
```
